<canvas id="myCanvas" width="600" height="500" style="border:1px solid #0bcddb73; background: rgb(248, 247, 193);">
</canvas>

<p><button onclick="stop()">STOP</button>&emsp;

    <button onclick="start()">START</button>&emsp;


    <button onclick="reset()">RESET</button></p>

<script>
    let b = document.getElementById("myCanvas");
    let ctx = b.getContext("2d");
    function first(xSec, ySec, xMin, yMin, xHour, yHour, xAlarmHour, yAlarmMin) {


        ctx.clearRect(0, 0, 600, 500)

        ctx.beginPath();
        // ctx.strokeStyle = 'blue;';
        //сtx.fillStyle = 'red'; // почему не работает ?
        ctx.arc(300, 250, 220, 0, 2 * Math.PI);
        ctx.lineWidth = 42;
        ctx.strokeStyle = '#0bcddb73';
        ctx.stroke();

        ctx.beginPath();            //часовая 
        ctx.lineWidth = 15;
        ctx.strokeStyle = 'black';
        ctx.moveTo(300, 250);
        ctx.lineTo(xHour, yHour);
        ctx.stroke();

        ctx.beginPath()          //минутная
        ctx.lineWidth = 6;
        ctx.strokeStyle = 'green';
        ctx.moveTo(300, 250);
        ctx.lineTo(xMin, yMin);
        ctx.stroke();

        ctx.beginPath();          //секундная    
        ctx.lineWidth = 1;
        ctx.moveTo(300, 250);
        ctx.lineTo(xSec, ySec);
        ctx.strokeStyle = 'blue'
        ctx.stroke();

        ctx.beginPath()         // будильник
        ctx.lineWidth = 1;
        ctx.moveTo(300, 250);
        ctx.lineTo(xAlarmHour, yAlarmMin);
        ctx.strokeStyle = 'red'
        ctx.stroke();

        ctx.beginPath();                    //деления
        ctx.strokeStyle = '#FFA500';
        ctx.lineWidth = 8;
        ctx.moveTo(100, 250);
        ctx.lineTo(120, 250);
        ctx.moveTo(500, 250);
        ctx.lineTo(480, 250);
        ctx.moveTo(300, 50);
        ctx.lineTo(300, 70);
        ctx.moveTo(300, 450);
        ctx.lineTo(300, 430);
        ctx.stroke();

        //ctx.beginPath();                    //циферблат
        ctx.strokeStyle = 'brown';
        ctx.lineWidth = 1;
        ctx.font = "65px Mv boli";
        ctx.strokeText("12", 263, 130);
        ctx.strokeText("9", 132, 267);
        ctx.strokeText("6", 275, 415);
        ctx.strokeText("3", 430, 270);
    }


    let date = new Date();
    let sumSec = date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds()

    let degSec = sumSec * (360 / 60);
    let degMin = sumSec * (360 / 3600);
    let degHour = sumSec * (360 / (12 * 3600));

    let creatId;


    function start(setAlarmHH, setAlarmMM) {
        clearInterval(creatId);
        let degAlarm = ((setAlarmHH * 3600) + (setAlarmMM * 60)) * (360 / (12 * 3600))


        creatId = setInterval(() => {
            degSec += (360 / 60);
            degMin += (360 / 3600);
            degHour += (360 / (12 * 3600));

            if (Math.floor(degHour * 100) / 100 === Math.floor(degAlarm * 100) / 100) {
                stop()
            }
            first(
                300 + (Math.sin(degSec * Math.PI / 180) * 180),
                250 - (Math.cos(degSec * Math.PI / 180) * 180),
                300 + (Math.sin(degMin * Math.PI / 180) * 160),
                250 - (Math.cos(degMin * Math.PI / 180) * 160),
                300 + (Math.sin(degHour * Math.PI / 180) * 120),
                250 - (Math.cos(degHour * Math.PI / 180) * 120),
                300 + (Math.sin(degAlarm * Math.PI / 180) * 200),
                250 - (Math.cos(degAlarm * Math.PI / 180) * 200)
            );
        }, 1000)
    }

    function start1() {

        date = new Date();
        sumSec = date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds()
        degSec = sumSec * (360 / 60);
        degMin = sumSec * (360 / 3600);
        degHour = sumSec * (360 / (12 * 3600));

        creatId = setInterval(() => {
            degSec += (360 / 60);
            degMin += (360 / 3600);
            degHour += (360 / (12 * 3600));

            first(
                300 + (Math.sin(degSec * Math.PI / 180) * 180),
                250 - (Math.cos(degSec * Math.PI / 180) * 180),
                300 + (Math.sin(degMin * Math.PI / 180) * 160),
                250 - (Math.cos(degMin * Math.PI / 180) * 160),
                300 + (Math.sin(degHour * Math.PI / 180) * 120),
                250 - (Math.cos(degHour * Math.PI / 180) * 120),

            );
        }, 1000)
    }

    function stop() {
        clearInterval(creatId);
        first(
            300 + (Math.sin(degSec * Math.PI / 180) * 180),
            250 - (Math.cos(degSec * Math.PI / 180) * 180),
            300 + (Math.sin(degMin * Math.PI / 180) * 160),
            250 - (Math.cos(degMin * Math.PI / 180) * 160),
            300 + (Math.sin(degHour * Math.PI / 180) * 120),
            250 - (Math.cos(degHour * Math.PI / 180) * 120)
        )
    }

    function reset() {
        clearInterval(creatId);
        start1()
    }



    function alarm(setHour, setMin) {
        clearInterval(creatId);
        start(setHour, setMin);
    }
    start()
    alarm(19, 33)
</script>